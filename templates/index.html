{% extends "base.html" %}
{% block content %}

<!-- FULL-PAGE INTRO OVERLAY (added) -->
<style>
  /* intro overlay (keeps site colors & theme intact) */
  #site-intro{position:fixed; inset:0; z-index:99999; display:flex; align-items:center; justify-content:center; background:linear-gradient(180deg, rgba(2,6,12,0.6), rgba(2,6,12,0.75)); backdrop-filter: blur(6px); -webkit-backdrop-filter: blur(6px); }
  #site-intro .intro-card{width:min(920px,92vw); max-width:920px; padding:36px; border-radius:16px; background:rgba(5,12,20,0.82); box-shadow:0 24px 60px rgba(0,0,0,0.6); border:1px solid rgba(255,255,255,0.03); text-align:center; color:var(--text);}
  #site-intro .intro-title{font-size:clamp(26px,4.6vw,44px); font-weight:800; margin:0 0 8px; letter-spacing:-0.02em;}
  #site-intro .intro-sub{font-size:18px; color:#c92b2b; font-weight:700; margin:10px 0 14px;}
  #site-intro .intro-power{margin-top:12px; color:rgba(255,255,255,0.92); font-weight:600;}
  #site-intro .intro-cta{margin-top:20px; display:flex; gap:14px; align-items:center; justify-content:center; flex-wrap:wrap;}
  #site-intro .intro-btn{padding:10px 24px; border-radius:12px; font-weight:800; text-decoration:none; background:linear-gradient(90deg,#6a5cff,#2ad1ff); color:#041028; display:inline-block;}
  #site-intro .intro-dots{display:flex; gap:10px; align-items:center; margin-left:6px;}
  #site-intro .intro-dot{width:12px; height:12px; border-radius:4px; background:rgba(255,255,255,0.12); box-shadow:0 6px 14px rgba(0,0,0,0.45);}
  #site-intro .intro-dot.active{background:linear-gradient(180deg,#6a5cff,#2ad1ff); transform:scale(1.08); box-shadow:0 10px 30px rgba(0,0,0,0.5);}
  /* fade out helper */
  #site-intro.fade{opacity:0; transform:translateY(-6px) scale(0.995); transition:opacity 420ms ease, transform 420ms ease; pointer-events:none;}
  @media (prefers-reduced-motion: reduce){ #site-intro, #site-intro *{transition:none !important; animation:none !important;} }
</style>

<div id="site-intro" role="dialog" aria-label="Intro">
  <div class="intro-card" id="intro-card" role="document">
    <div class="intro-title">Ajmal Adamz Blockchain & Technologies</div>
    <div class="intro-sub">Testnet Version</div>
    <div class="intro-power" style="position:relative; display:inline-block; padding:8px 0;">
      <span style="color:#dcdcdc; font-weight:900; letter-spacing:1px;">Powered by: Ajmal Adamz Software Company</span>
    </div>

    <div class="intro-cta" aria-hidden="true">
      <a id="intro-enter" class="intro-btn" href="javascript:void(0)">Enter site</a>
      <div class="intro-dots" id="intro-dots" aria-hidden="true">
        <div class="intro-dot active"></div>
        <div class="intro-dot"></div>
        <div class="intro-dot"></div>
        <div class="intro-dot"></div>
        <div class="intro-dot"></div>
      </div>
    </div>
  </div>
</div>

<script>
(function(){
  try{
    var AUTO_MS = 5000; // 5 seconds
    var intro = document.getElementById('site-intro');
    var card = document.getElementById('intro-card');
    var enter = document.getElementById('intro-enter');
    var dots = Array.prototype.slice.call(document.querySelectorAll('#intro-dots .intro-dot'));
    // cycle dots visually
    var idx = 0;
    var dotInterval = setInterval(function(){
      dots.forEach(function(d,i){ d.classList.toggle('active', i===idx); });
      idx = (idx + 1) % dots.length;
    }, 420);

    // hide function (fade then remove)
    function hideIntro(immediate){
      clearInterval(dotInterval);
      if(!intro) return;
      if(immediate){
        try{ intro.parentNode && intro.parentNode.removeChild(intro); }catch(e){}
        return;
      }
      intro.classList.add('fade');
      setTimeout(function(){
        try{ intro.parentNode && intro.parentNode.removeChild(intro); }catch(e){}
      }, 460);
    }

    // auto hide after delay
    var timer = setTimeout(function(){ hideIntro(false); }, AUTO_MS);

    // enter button cancels timer and hides immediately
    if(enter){
      enter.addEventListener('click', function(e){
        clearTimeout(timer);
        hideIntro(true);
      }, {passive:true});
    }

    // allow Escape to skip intro
    document.addEventListener('keydown', function(ev){
      if(ev.key === 'Escape' || ev.key === 'Esc'){
        clearTimeout(timer);
        hideIntro(true);
      }
    }, {passive:true});

  }catch(err){
    console && console.log && console.log('intro overlay error', err);
  }
})();
</script>

<!-- Labs pill shown at top of content area -->
<div class="container nav-pill-row" style="max-width:980px; margin:8px auto 0; padding:0 12px;">
  <div class="nav-links-row">
    <a class="btn btn-ghost" href="{{ url_for('labs') }}">ðŸ§ª Labs</a>
  </div>
</div>

<section class="hero">
  <div class="hero-inner">
    <h1 class="hero-title">Explore Blockchain & Smart Contracts</h1>
    <p class="hero-subtitle">We build knowledge around smart contracts, security audits, and research that bridges blockchain with space innovation.</p>
    <div class="cta-row">
      <a class="btn btn-primary" href="{{ url_for('blockchain_basic') }}">Blockchain Basic</a>
      <a class="btn btn-ghost" href="javascript:void(0)" onclick="showReviewMessage()">Review</a>
    </div>
  </div>
</section>

<!-- REVIEW MESSAGE BOX (appears when Review button clicked, auto hides after 4s) -->
<div id="review-box" style="display:none; position:fixed; top:20px; left:50%; transform:translateX(-50%); z-index:99999; width:calc(100% - 40px); max-width:820px; pointer-events:none;">
  <div style="pointer-events:auto; margin:0 auto; background:linear-gradient(180deg, rgba(90,8,8,0.98), rgba(130,12,12,0.98)); border:1px solid rgba(255,70,70,0.12); padding:14px 18px; border-radius:12px; box-shadow:0 18px 40px rgba(0,0,0,0.55); color:#ffdede; text-align:center; display:flex; align-items:center; justify-content:center; gap:12px; white-space:nowrap;">
    <div style="font-family:'Segoe UI', Roboto, system-ui, -apple-system, 'Helvetica Neue', Arial; font-weight:800; font-size:20px; color:#ffd6d6; text-shadow:0 2px 6px rgba(0,0,0,0.6);">
      Review System is Deploying Shortly
    </div>
    <div id="review-dots" aria-hidden="true" style="display:flex; gap:8px; align-items:center;">
      <span class="r-dot"></span><span class="r-dot"></span><span class="r-dot"></span><span class="r-dot"></span><span class="r-dot"></span>
    </div>
  </div>
</div>

<style>
.r-dot{width:12px;height:12px;background:rgba(255,210,210,0.95);border-radius:3px;display:inline-block;opacity:0.25;box-shadow:0 3px 8px rgba(0,0,0,0.45);}
@keyframes rPulse{0%{opacity:0.25;transform:translateY(0);}30%{opacity:1;transform:translateY(-6px);}60%{opacity:0.6;transform:translateY(0);}100%{opacity:0.25;transform:translateY(0);}}
.r-dot:nth-child(1){animation:rPulse 1s infinite 0s;}
.r-dot:nth-child(2){animation:rPulse 1s infinite 0.12s;}
.r-dot:nth-child(3){animation:rPulse 1s infinite 0.24s;}
.r-dot:nth-child(4){animation:rPulse 1s infinite 0.36s;}
.r-dot:nth-child(5){animation:rPulse 1s infinite 0.48s;}
</style>

<div class="home-cards" id="cards-root">
  <!-- Four new buttons as requested -->
  <div class="card" style="cursor:pointer" onclick="showDetail('ai')">
    <h2>Ai Agents</h2>
    <p>Autonomous on-chain/off-chain agents that monitor, act and optimise smart contract systems.</p>
  </div>

  <div class="card" style="cursor:pointer" onclick="showDetail('multisign')">
    <h2>Multisign</h2>
    <p>Multi-signature wallets and workflows for safer treasury and admin operations.</p>
  </div>

  <div class="card" style="cursor:pointer" onclick="showDetail('dao')">
    <h2>DAO</h2>
    <p>Decentralized Autonomous Organizations â€” governance, treasury, and community coordination.</p>
  </div>

  <div class="card" style="cursor:pointer" onclick="showDetail('future')">
    <h2>Future of Blockchain Technology</h2>
    <p>Trends: Ai integration, ZK privacy, cross-chain, tokenization, and space-grade deployments.</p>
  </div>
</div>

<!-- Details panels (hidden by default) -->
<div id="detail-root" style="margin-top:18px; display:none;">
  <div class="card" id="detail-ai" style="display:none;">
    <a href="javascript:void(0)" onclick="hideDetail()" style="float:right; color:var(--muted); text-decoration:none;">Back</a>
    <h2>Ai Agents â€” Autonomous Intelligent Agents</h2>
    <p style="color:var(--muted);">Ai Agents are software entities that observe data, make decisions, and act â€” optionally interacting with blockchains or smart contracts. They can automate monitoring, on-chain operations, trading strategies, security scanning and governance helpers.</p>
    <h4 style="color:#6a5cff; margin-top:8px;">Key uses</h4>
    <ul style="color:var(--muted); font-size:13px;">
      <li>Real-time on-chain monitoring and anomaly detection.</li>
      <li>Autonomous rebalancing, arbitrage and DeFi optimisation.</li>
      <li>Automated vulnerability triage and alerting for auditors.</li>
      <li>Agent-assisted DAO proposal evaluation and recommendation.</li>
    </ul>
    <h4 style="color:#2ad1ff; margin-top:8px;">Design & risks</h4>
    <ul style="color:var(--muted); font-size:13px;">
      <li>Keep transparent decision logs on-chain or via signed attestations.</li>
      <li>Protect agent keys; use threshold keys or multisig for critical actions.</li>
      <li>Rate-limit and test agent policies to avoid costly on-chain mistakes.</li>
    </ul>
  </div>

  <div class="card" id="detail-multisign" style="display:none;">
    <a href="javascript:void(0)" onclick="hideDetail()" style="float:right; color:var(--muted); text-decoration:none;">Back</a>
    <h2>Multisign â€” Multi-signature Security</h2>
    <p style="color:var(--muted);">Multisig requires multiple independent signatures to authorize transactions. It is widely used to secure treasuries, protect admin privileges, and ensure collective control over funds.</p>
    <h4 style="color:#6a5cff; margin-top:8px;">Common patterns</h4>
    <ul style="color:var(--muted); font-size:13px;">
      <li>m-of-n wallets (example: 2/3, 3/5) for team custody.</li>
      <li>Multisig with timelocks and on-chain guardians for safer upgrades.</li>
      <li>DAOs integrating multisig for delegated execution of proposals.</li>
    </ul>
    <h4 style="color:#2ad1ff; margin-top:8px;">Best practices</h4>
    <ul style="color:var(--muted); font-size:13px;">
      <li>Use tested multisig contracts (OpenZeppelin/Gnosis Safe).</li>
      <li>Distribute keys across people and devices; avoid single points of failure.</li>
      <li>Combine with monitoring, alerts and emergency recovery plans.</li>
    </ul>
  </div>

  <div class="card" id="detail-dao" style="display:none;">
    <a href="javascript:void(0)" onclick="hideDetail()" style="float:right; color:var(--muted); text-decoration:none;">Back</a>
    <h2>DAO â€” Decentralized Autonomous Organization</h2>
    <p style="color:var(--muted);">A DAO is an on-chain governed collective where rules and treasury actions are enforced by smart contracts. Members propose and vote; successful proposals execute automatically when conditions are met.</p>
    <h4 style="color:#6a5cff; margin-top:8px;">Core components</h4>
    <ul style="color:var(--muted); font-size:13px;">
      <li>Token-based voting or reputation systems for decision power.</li>
      <li>Proposal lifecycle (create â†’ discuss â†’ vote â†’ execute).</li>
      <li>Treasury contracts, multisig safes, and timelocks for finance control.</li>
    </ul>
    <h4 style="color:#2ad1ff; margin-top:8px;">Operational notes</h4>
    <ul style="color:var(--muted); font-size:13px;">
      <li>Design clear proposal formats and quorum rules.</li>
      <li>Use on-chain and off-chain governance tooling (forum, snapshot, on-chain execution).</li>
      <li>Audit governance contracts and treasury flows thoroughly.</li>
    </ul>
  </div>

  <div class="card" id="detail-future" style="display:none;">
    <a href="javascript:void(0)" onclick="hideDetail()" style="float:right; color:var(--muted); text-decoration:none;">Back</a>
    <h2>Future of Blockchain Technology</h2>
    <p style="color:var(--muted);">The near future blends privacy (ZK), Ai, cross-chain interoperability, tokenization of real-world assets, and niche domains like space-grade decentralized systems â€” producing richer, privacy-preserving and highly interconnected infrastructures.</p>
    <h4 style="color:#6a5cff; margin-top:8px;">Major trends</h4>
    <ul style="color:var(--muted); font-size:13px;">
      <li>Ai + blockchain: autonomous agents, predictive contracts, on-chain ML pointers.</li>
      <li>Zero-knowledge proofs for private computation and confidential state.</li>
      <li>Seamless cross-chain execution and universal liquidity layers.</li>
      <li>Tokenization and regulated on-chain RWAs (real-world assets).</li>
      <li>Space-oriented deployments: low-bandwidth anchoring, satellite relays, provenance for telemetry.</li>
    </ul>
    <h4 style="color:#2ad1ff; margin-top:8px;">How to prepare</h4>
    <ul style="color:var(--muted); font-size:13px;">
      <li>Learn ZK basics, cross-chain primitives and secure oracle design.</li>
      <li>Adopt modular, audited toolchains and privacy-first patterns.</li>
      <li>Design for resilience and intermittent connectivity in novel domains (eg. space).</li>
    </ul>
  </div>
</div>

<div class="latest">
  <h2>Latest</h2>
  <p class="muted">Updates and short notes will appear here.</p>
</div>

<!-- small JS to toggle -->
<script>
  function showDetail(id){
    document.getElementById('cards-root').style.display = 'none';
    var root = document.getElementById('detail-root');
    root.style.display = 'block';
    ['ai','multisign','dao','future'].forEach(function(k){
      var el = document.getElementById('detail-' + k);
      if(!el) return;
      el.style.display = (k === id) ? 'block' : 'none';
    });
    window.scrollTo({ top: 0, behavior: 'smooth' });
  }
  function hideDetail(){
    document.getElementById('detail-root').style.display = 'none';
    document.getElementById('cards-root').style.display = 'grid';
    window.scrollTo({ top: 0, behavior: 'smooth' });
  }

  /* show review message box, then hide after 4 seconds */
  function showReviewMessage(){
    try{
      var box = document.getElementById('review-box');
      if(!box) return;
      box.style.display = 'block';
      void box.offsetWidth;
      setTimeout(function(){
        box.style.display = 'none';
      }, 4000);
    }catch(e){
      console && console.log && console.log('review message error', e);
    }
  }
</script>

{% endblock %}
